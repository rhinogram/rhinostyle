//
// Variables
//


@variable-message-compose-bg: @input-bg;
@variable-message-compose-border-color: @input-border;
@variable-message-compose-color: @input-color;
@variable-message-compose-min-height: @input-height-base;
@variable-message-compose-horizontal-padding: @input-padding-base;
@variable-message-compose-vertical-padding: @textarea-vertical-padding;
@variable-message-compose-border-radius: @input-border-radius;

//
// Component
//


.variable-message__header {
  display: flex;
  align-items: baseline;
  margin-bottom: @global-whitespace-small;
}

.variable-message__label {
  display: block;
  margin-bottom: 0;
  margin-right: @global-whitespace-small;
}

.variable-message__reset {
  margin-left: auto;
}

.variable-message__compose {
  &[contenteditable='true'] {
    background-color: @variable-message-compose-bg;
    border: 1px solid @variable-message-compose-border-color;
    border-top-left-radius: @variable-message-compose-border-radius;
    border-top-right-radius: @variable-message-compose-border-radius;
    color: @variable-message-compose-color;
    min-height: @variable-message-compose-min-height;
    padding: @variable-message-compose-vertical-padding @variable-message-compose-horizontal-padding;
  }

  &:focus {
    outline: 0;
  }
}

.variable-message__footer {
  padding: @variable-message-compose-vertical-padding @variable-message-compose-horizontal-padding;
  display: flex;
  flex-direction: column;
  border: 1px solid @variable-message-compose-border-color;
  border-top: none;
  border-bottom-left-radius: @variable-message-compose-border-radius;
  border-bottom-right-radius: @variable-message-compose-border-radius;

  @media (min-width: @global-screen-xsmall-min) {
    justify-content: center;
  }
}

.category-message__footer {
  // padding: @variable-message-compose-vertical-padding @variable-message-compose-horizontal-padding;
  display: flex;
  flex-direction: row;
  border: 1px solid @variable-message-compose-border-color;
  border-bottom-left-radius: @variable-message-compose-border-radius;
  border-bottom-right-radius: @variable-message-compose-border-radius;

  @media (min-width: @global-screen-xsmall-min) {
    justify-content: center;
  }
}

.category-message__footer__variable__list {
  padding: @variable-message-compose-vertical-padding @variable-message-compose-horizontal-padding;
  > button:not(:last-child) {
    margin-right: @global-whitespace-small;
  }
}

.variable-message__footer__variable__list {
  padding: @variable-message-compose-vertical-padding @variable-message-compose-horizontal-padding;
  > button:not(:last-child) {
    margin-right: @global-whitespace-small;
  }
}

.category-message__footer__category {
  border: 1px solid @variable-message-compose-border-color;
  border-left: none;
  border-top: none;
  cursor: pointer;
}

.category-message__footer__category:last-child {
  border-bottom: none;
}

.category-message__footer__category__active {
  border-left: 4px solid @global-color-primary;
}

.category-message__explanation {
  font-size: @global-font-size-small;
  font-weight: bold;

  @media (max-width: @global-screen-xsmall-max) {
    margin-top: @global-whitespace-xsmall;
  }
}

.variable-message__explanation {
  font-size: @global-font-size-small;
  font-weight: bold;

  @media (max-width: @global-screen-xsmall-max) {
    margin-top: @global-whitespace-xsmall;
  }
}

.variable-message__character-count {
  .u-text-small;

  margin-top: @global-whitespace-base;
  color: @global-font-color-muted;
  margin-left: auto;
  text-align: right;
  cursor: default;
}

.variable-message__character-count--warning {
  color: @global-color-accent;
  font-weight: @global-font-weight-bold;
}

// 1. Override padding of pill for tighter spacing
// 2. Help space out stacking variables
.variable-message__variable {
  &:extend(.pill--primary);

  padding: 0; // 1
  margin-bottom: 0.1rem; // 2
  cursor: default;
  user-select: none;
  vertical-align: baseline;

  // Hide squigglies
  i {
    display: none;
  }

  // Do not show underscore
  b {
    opacity: 0;
    width: 0.3rem;
    font-size: 1rem;
  }

  div {
    display: inline-block;
  }
}

.variable-message__preview {
  margin-top: @form-group-spacing;
}
